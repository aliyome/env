# Claude Code Issue Creation Guide

## 要件

```
$ARGUMENTS
```

## 依頼内容

以下のガイドラインに従って、プロジェクトに最適な issue を作成してください。
ユーザーの指示が曖昧な場合は issue を作成する前に不明点をユーザーから聞き出し明確にしたのちに issue を作成してください。
ファイルの修正作業は**禁止**です。
issue のタイトルと内容は日本語にします。

## 1. プロジェクト分析（最優先事項）

**issue を作成する前に、必ず以下を確認してください：**

### 既存プロジェクトの調査

- [ ] README.md でプロジェクト概要を把握
- [ ] package.json、Gemfile 等で技術スタックを確認
- [ ] テストフレームワークとテスト実行方法を確認
- [ ] docs 以下のドキュメントでコーディング規約や設定ファイルを確認
- [ ] docs 以下のドキュメントでプロジェクト構造とアーキテクチャを理解

### 類似実装の参照

- [ ] 同種の機能がすでに実装されているか確認
- [ ] 実装パターンやコードスタイルを把握
- [ ] 再利用可能なコンポーネントや関数を特定

## 2. 要件の明確化（曖昧さの排除）

**実装内容に応じて、必要な質問を選択して確認：**

- 具体的に何を実装するのか？
- なぜその機能/修正が必要なのか？
- ユーザーの入力と期待される出力は？
- エラー時やエッジケースの挙動は？
- 既存機能への影響は？
- パフォーマンスやセキュリティの考慮事項は？

## 3. Issue 作成ガイドライン

### 作成方法

- `gh issue create` を使用
- 大きなタスクは適切に分割して複数の issue に分ける
- 各 issue は独立して作業可能な単位に

### ラベル設定

- `gh label list` で利用可能なラベルを確認
- プロジェクトのラベル体系に従って適切に付与（通常 1-3 個）

### タイトル

- 実装内容が一目でわかる具体的な表現
- プロジェクトの既存 issue のタイトル形式を参考に

## 4. Issue 内容の構成

**以下から、プロジェクトと実装内容に応じて必要な項目を選択：**

### 必須項目

#### 背景と目的

- なぜこの実装が必要か
- どんな問題を解決するか
- ビジネス価値や技術的価値

#### 実装内容

- 具体的に何を作るか/修正するか
- 主要な変更点のリスト

#### 成功基準

- 実装が完了したと判断できる明確な条件
- 測定可能で客観的な基準

### 任意項目（プロジェクトに応じて選択）

#### 技術詳細

- アーキテクチャの変更
- 新規導入する技術やライブラリ
- データベーススキーマの変更

#### 実装計画とタスク分解

- **タスクの優先順位と依存関係**
  - どのタスクから始めるべきか
  - 並列実行可能なタスクの特定
  - ブロッカーとなるタスクの明確化
- **段階的実装アプローチ**
  - MVP（最小実装）から始めるか
  - 機能追加の段階的な進め方
  - 各段階での検証ポイント
- **実装順序の詳細**
  ```markdown
  - [ ] 1. データ層の実装（モデル、API）
  - [ ] 2. ビジネスロジックの実装
  - [ ] 3. UI/UX コンポーネントの実装
  - [ ] 4. 統合テストの実装
  - [ ] 5. エラーハンドリングの実装
  ```
- **品質チェックポイント**
  - 各段階でのテスト実行タイミング
  - コードレビューが必要なポイント
  - パフォーマンステストの実施タイミング

#### 参考情報

- 関連するコードパス（相対パスにすること）
- 参考にすべき既存実装
- 外部ドキュメントへのリンク

#### 制約事項

- 既存 API との互換性
- パフォーマンス要件
- セキュリティ要件（基本的には一般的なベストプラクティスに従う）

#### テスト方針

- プロジェクトのテスト方法に準拠
- 特別なテストケースがある場合のみ記載

#### UI/UX の考慮事項

- フロントエンド実装の場合
- モバイル対応やアクセシビリティ

## 5. Issue 作成時の注意点

### やるべきこと

- ✅ プロジェクトの文化や慣習を尊重
- ✅ 既存のコードや issue を参考に
- ✅ 実装者（Claude Code）が迷わない明確な記述
- ✅ 必要十分な情報のみを含める
- ✅ 日本語で記述する

### 避けるべきこと

- ❌ すべての項目を機械的に埋める
- ❌ プロジェクトに存在しない概念を導入
- ❌ 過度に詳細な実装指示（実装者の裁量を奪う）
- ❌ 曖昧で測定不可能な成功基準

## 6. Issue 作成例

### シンプルなバグ修正

```markdown
## 背景

ユーザープロフィール画面で、メールアドレスが正しく表示されない

## 実装内容

- Profile コンポーネントの email フィールドのレンダリング Logic を修正

## 成功基準

- [ ] メールアドレスが正しく表示される
- [ ] 既存のテストがパスする
```

### 新機能実装

```markdown
## 背景と目的

ユーザーから要望の多い検索機能を実装し、コンテンツの発見性を向上させる

## 実装内容

1. 検索 API エンドポイントの作成
2. 検索 UI コンポーネントの実装
3. 検索結果の表示

## 実装計画とタスク分解

### 実装順序（依存関係順）

- [ ] 1. データベース検索クエリの実装とテスト
- [ ] 2. 検索 API エンドポイントの作成（`/api/items`参考）
- [ ] 3. API 単体テストの実装
- [ ] 4. 検索 UI コンポーネントの基本実装
- [ ] 5. デバウンス処理の追加
- [ ] 6. レスポンシブデザインの適用
- [ ] 7. 統合テストとパフォーマンステスト

### 並列実行可能なタスク

- UI コンポーネントの実装と API エンドポイントの実装は並列可能
- テストコードの作成も実装と並行して進行可能

## 技術詳細

- 既存の`/api/items`を参考に実装
- Elasticsearch は使用せず、DB の全文検索を利用
- デバウンス処理で API コール数を制限

## 成功基準

- [ ] キーワードで検索できる
- [ ] 検索結果が正しく表示される
- [ ] レスポンスタイムが 500ms 以内
- [ ] モバイルでも使いやすい UI

## 参考情報

- 類似実装: `src/components/Filter.tsx`
- API 設計: 既存の RESTful API パターンに従う
```

## 7. 最終確認

issue を作成する前に：

- [ ] プロジェクトの特性を反映しているか？
- [ ] Claude Code が実装に必要な情報は揃っているか？
- [ ] 不要な項目を含んでいないか？
- [ ] 成功基準は明確で測定可能か？
